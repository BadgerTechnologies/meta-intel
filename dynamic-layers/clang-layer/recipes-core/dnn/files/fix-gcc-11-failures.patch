From 1fe0f2594a1bfc6386fd8f6537f971d5ae9c1214 Mon Sep 17 00:00:00 2001
From: Denis Samoilov <denis.samoylov@intel.com>
Date: Fri, 2 Apr 2021 19:46:22 -0700
Subject: [PATCH] common, gpu: include thread and limit headers to fix GCC 11
 build issues

Upstream-Status: Backport [https://github.com/oneapi-src/oneDNN/commit/1fe0f2594a1bfc6386fd8f6537f971d5ae9c1214]
Signed-off-by: Anuj Mittal <anuj.mittal@intel.com>
---
 src/common/primitive_cache.hpp      | 1 +
 src/gpu/jit/ngen/ngen_auto_swsb.hpp | 1 +
 2 files changed, 2 insertions(+)

diff --git a/src/common/primitive_cache.hpp b/src/common/primitive_cache.hpp
index d3390c0649..ba186b2e66 100644
--- a/src/common/primitive_cache.hpp
+++ b/src/common/primitive_cache.hpp
@@ -19,6 +19,7 @@
 
 #include <future>
 #include <memory>
+#include <thread>
 #include <unordered_map>
 
 #include "c_types_map.hpp"
diff --git a/src/gpu/jit/ngen/ngen_auto_swsb.hpp b/src/gpu/jit/ngen/ngen_auto_swsb.hpp
index deb2275ef0..5236bc0fa0 100644
--- a/src/gpu/jit/ngen/ngen_auto_swsb.hpp
+++ b/src/gpu/jit/ngen/ngen_auto_swsb.hpp
@@ -28,6 +28,7 @@
 
 #include <list>
 #include <map>
+#include <limits>
 
 namespace ngen {
 namespace autoswsb {
