From 0088e843be66ed5f11388a9ef57f364a2a236584 Mon Sep 17 00:00:00 2001
From: Dongwon Kim <dongwon.kim@intel.com>
Date: Tue, 1 Mar 2022 17:05:01 -0800
Subject: [PATCH] llvm-link external

Signed-off-by: Dongwon Kim <dongwon.kim@intel.com>
---
 IGC/cmake/igc_llvm.cmake | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

diff --git a/IGC/cmake/igc_llvm.cmake b/IGC/cmake/igc_llvm.cmake
index 80c83d4e0..85f7dda3d 100644
--- a/IGC/cmake/igc_llvm.cmake
+++ b/IGC/cmake/igc_llvm.cmake
@@ -29,7 +29,10 @@ if(LLVM_TABLEGEN_EXE-NOTFOUND)
   message(FATAL_ERROR "[VC] llvm-tblgen is not found")
 endif()
 
-set(LLVM_LINK_EXE "llvm-link" CACHE STRING "")
+find_program(LLVM_LINK_EXE "llvm-link")
+if(LLVM_LINK_EXE-NOTFOUND)
+  message(FATAL_ERROR "[VC] llvm-link is not found")
+endif()
 
 include(AddLLVM)
 include(TableGen)
-- 
2.20.1

